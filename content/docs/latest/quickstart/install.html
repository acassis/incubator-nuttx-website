<!--
 Documentation/_templates/layout.html

 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.  The
 ASF licenses this file to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance with the
 License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 License for the specific language governing permissions and limitations
 under the License.
-->



<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installing &mdash; NuttX latest documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Compiling" href="compiling.html" />
    <link rel="prev" title="Quickstart" href="quickstart.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          
  
    <a href="../index.html" class="icon icon-home"> NuttX
  

  
    
    <img src="../_static/NuttX.png" class="logo" alt="Logo"/>
  
  </a>
  
  <!-- this version selector is quite ugly, should be probably replaced by something
       more modern -->
       
  <div class="version-selector">
    <select>
    
      <option value="latest" selected="selected">latest</option>
    
    </select>
  </div>
  
  
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/inviolables.html">The Inviolable Principles of NuttX</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Getting Started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Installing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#prerequisites">Prerequisites</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#install-prerequisites-for-building-using-linux">Install prerequisites for building using Linux</a></li>
<li class="toctree-l4"><a class="reference internal" href="#install-prerequisites-for-building-and-using-apache-nuttx-macos">Install prerequisites for building and using Apache NuttX (macOS)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#install-prerequisites-for-building-and-using-apache-nuttx-windows-wsl">Install prerequisites for building and using Apache NuttX (Windows – WSL)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#install-prerequisites-for-building-and-using-apache-nuttx-windows-cygwin">Install prerequisites for building and using Apache NuttX (Windows – Cygwin)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#install-required-tools-all-platforms">Install Required Tools (All Platforms)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#get-source-code-stable">Get Source Code (Stable)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-source-code-development">Get Source Code (Development)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-a-cross-compiler-toolchain">Install a Cross-Compiler Toolchain</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="compiling.html">Compiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="running.html">Running</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuring.html">Configuring</a></li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html">Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="organization.html">Directory Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_and_make.html">Build and Make Details</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../components/index.html">OS Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications/index.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../boards/index.html">Supported Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">NuttX</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Getting Started</a> &raquo;</li>
        
      <li>Installing</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/quickstart/install.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installing">
<span id="install"></span><h1>Installing<a class="headerlink" href="#installing" title="Permalink to this headline">¶</a></h1>
<p>To start developing on Apache NuttX, we need to get the source code, configure it, compile it, and get it uploaded onto an
embedded computing board. These instructions are for <a class="reference external" href="https://ubuntu.com/">Ubuntu</a> Linux and macOS Catalina. If you’re using a different
version, you may need to change some of the commands.</p>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<div class="section" id="install-prerequisites-for-building-using-linux">
<h3>Install prerequisites for building using Linux<a class="headerlink" href="#install-prerequisites-for-building-using-linux" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>Install system packages</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo apt install <span class="se">\</span>
bison flex gettext texinfo libncurses5-dev libncursesw5-dev <span class="se">\</span>
gperf automake libtool pkg-config build-essential gperf <span class="se">\</span>
libgmp-dev libmpc-dev libmpfr-dev libisl-dev binutils-dev libelf-dev <span class="se">\</span>
libexpat-dev gcc-multilib g++-multilib picocom u-boot-tools util-linux
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Give yourself access to the serial console device</p>
<p>This is done by adding your Linux user to the <code class="docutils literal notranslate"><span class="pre">dialout</span></code> group:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo usermod -a -G dialout <span class="nv">$USER</span>
<span class="gp">$</span> <span class="c1"># now get a login shell that knows we&#39;re in the dialout group:</span>
<span class="gp">$</span> su - <span class="nv">$USER</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="install-prerequisites-for-building-and-using-apache-nuttx-macos">
<h3>Install prerequisites for building and using Apache NuttX (macOS)<a class="headerlink" href="#install-prerequisites-for-building-and-using-apache-nuttx-macos" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ brew tap discoteq/discoteq
$ brew install flock
$ brew install x86_64-elf-gcc  <span class="c1"># Used by simulator</span>
$ brew install u-boot-tools  <span class="c1"># Some platform integrate with u-boot</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="install-prerequisites-for-building-and-using-apache-nuttx-windows-wsl">
<h3>Install prerequisites for building and using Apache NuttX (Windows – WSL)<a class="headerlink" href="#install-prerequisites-for-building-and-using-apache-nuttx-windows-wsl" title="Permalink to this headline">¶</a></h3>
<p>If you are are building Apache NuttX on windows and using WSL follow
that installation guide for Linux.  This has been verified against the
Ubunutu 18.04 version.</p>
<p>There may be complications interacting with
programming tools over USB.  Recently support for USBIP was added to WSL 2
which has been used with the STM32 platform, but it is not trivial to configure:
<a class="reference external" href="https://github.com/rpasek/usbip-wsl2-instructions">https://github.com/rpasek/usbip-wsl2-instructions</a></p>
</div>
<div class="section" id="install-prerequisites-for-building-and-using-apache-nuttx-windows-cygwin">
<h3>Install prerequisites for building and using Apache NuttX (Windows – Cygwin)<a class="headerlink" href="#install-prerequisites-for-building-and-using-apache-nuttx-windows-cygwin" title="Permalink to this headline">¶</a></h3>
<p>Download and install <a class="reference external" href="https://www.cygwin.com/">Cygwin</a> using the minimal
installation in addition to these packages:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>make              bison             libmpc-devel
gcc-core          byacc             automake-1.15
gcc-g++           gperf             libncurses-devel
flex              gdb               libmpfr-devel
git               unzip             zlib-devel
</pre></div>
</div>
</div>
<div class="section" id="install-required-tools-all-platforms">
<h3>Install Required Tools (All Platforms)<a class="headerlink" href="#install-required-tools-all-platforms" title="Permalink to this headline">¶</a></h3>
<p>There are a collection of required tools that need to be built to build most Apache NuttX configurations:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ mkdir buildtools
$ <span class="nb">export</span> <span class="nv">NUTTXTOOLS</span><span class="o">=</span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/buildtools
$ <span class="nb">export</span> <span class="nv">NUTTXTOOLS_PATH</span><span class="o">=</span><span class="nv">$NUTTXTOOLS</span>/bin:<span class="nv">$NUTTXTOOLS</span>/usr/bin
$ git clone https://bitbucket.org/nuttx/tools.git tools
</pre></div>
</div>
</div></blockquote>
<p><em>NOTE:</em> You will need to add <code class="docutils literal notranslate"><span class="pre">NUTTXTOOLS_PATH</span></code> to your environment <code class="docutils literal notranslate"><span class="pre">PATH</span></code></p>
<ol class="arabic">
<li><p>Install gperf tool</p>
<p>This required to build <code class="docutils literal notranslate"><span class="pre">kconfig-frontends</span></code>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> tools/
<span class="gp">$</span> wget http://ftp.gnu.org/pub/gnu/gperf/gperf-3.1.tar.gz
<span class="gp">$</span> tar zxf gperf-3.1.tar.gz
<span class="gp">$</span> <span class="nb">cd</span> gperf-3.1
<span class="gp">$</span> ./configure --prefix<span class="o">=</span><span class="nv">$NUTTXTOOLS</span>
<span class="gp">$</span> make
<span class="gp">$</span> make install
</pre></div>
</div>
</li>
<li><p>Install kconfig-frontends tool</p>
<p>This is necessary to run the <code class="docutils literal notranslate"><span class="pre">./nuttx/tools/configure.sh</span></code> script as well as using the ncurses-based menuconfig system.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> tools/
<span class="gp">$</span> <span class="nb">cd</span> kconfig-frontends
<span class="gp">$</span> <span class="c1"># on MacOS do the following:</span>
<span class="gp">$</span> patch &lt; ../kconfig-macos.diff -p <span class="m">1</span>
<span class="gp">$</span> ./configure --prefix<span class="o">=</span><span class="nv">$NUTTXTOOLS</span> --enable-mconf --disable-shared --enable-static --disable-gconf --disable-qconf --disable-nconf
<span class="gp">$</span> <span class="c1"># on Linux do the following:</span>
<span class="gp">$</span> ./configure --prefix<span class="o">=</span><span class="nv">$NUTTXTOOLS</span> --enable-mconf --disable-gconf --disable-qconf
<span class="gp">$</span> touch aclocal.m4 Makefile.in
<span class="gp">$</span> make
<span class="gp">$</span> make install
</pre></div>
</div>
</li>
<li><p>Install gen-romfs (optional)</p>
<p>This is required if you want to build ROM-based file systems.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> tools/
<span class="gp">$</span> tar zxf genromfs-0.5.2.tar.gz
<span class="gp">$</span> <span class="nb">cd</span> genromfs-0.5.2
<span class="gp">$</span> make install <span class="nv">PREFIX</span><span class="o">=</span><span class="nv">$NUTTXTOOLS</span>
</pre></div>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="get-source-code-stable">
<h2>Get Source Code (Stable)<a class="headerlink" href="#get-source-code-stable" title="Permalink to this headline">¶</a></h2>
<p>Apache NuttX releases are published on the project <a class="reference external" href="https://nuttx.apache.org/download/">Downloads</a> page and distributed
by the Apache mirrors.  Be sure to download both the nuttx and apps tarballs.</p>
</div>
<div class="section" id="get-source-code-development">
<h2>Get Source Code (Development)<a class="headerlink" href="#get-source-code-development" title="Permalink to this headline">¶</a></h2>
<p>Apache NuttX is <a class="reference external" href="https://github.com/apache/incubator-nuttx/">actively developed on GitHub</a>. If you want
to use it, modify it or help develop it, you’ll need the source code.</p>
<p>You can either clone the public repositories:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> mkdir nuttx
<span class="gp">$</span> <span class="nb">cd</span> nuttx
<span class="gp">$</span> git clone https://github.com/apache/incubator-nuttx.git nuttx
<span class="gp">$</span> git clone https://github.com/apache/incubator-nuttx-apps apps
</pre></div>
</div>
<p>Or, download the <a class="reference external" href="https://github.com/apache/incubator-nuttx/tarball/master">tarball</a>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> curl -OL https://github.com/apache/incubator-nuttx/tarball/master
<span class="gp">$</span> curl -OL https://github.com/apache/incubator-nuttx-apps/tarball/master
<span class="gp">#</span> optionally, zipball is also available <span class="o">(</span><span class="k">for</span> Windows users<span class="o">)</span>.
</pre></div>
</div>
<p>Later if we want to make modifications (for instance, to improve NuttX and save them in our own branch,
or submit them back to the project), we can do that easily using git to track our changes and submit them
upstream to the NuttX project.</p>
</div>
<div class="section" id="install-a-cross-compiler-toolchain">
<h2>Install a Cross-Compiler Toolchain<a class="headerlink" href="#install-a-cross-compiler-toolchain" title="Permalink to this headline">¶</a></h2>
<p>With Apache NuttX, you compile the operating system and your application on your desktop or laptop computer, then install the
binary file on your embedded computer. This guide assumes your computer is an
<a class="reference external" href="https://en.wikipedia.org/wiki/ARM_architecture">ARM</a> CPU. If it isn’t, you’ll need a different tool chain.</p>
<blockquote>
<div><p>There are hints on how to get the latest tool chains for most supported architectures in the Apache NuttX CI helper
<a class="reference external" href="https://github.com/apache/incubator-nuttx-testing/blob/master/cibuild.sh">script</a> and Docker <a class="reference external" href="https://github.com/apache/incubator-nuttx-testing/blob/master/docker/linux/Dockerfile">container</a></p>
</div></blockquote>
<p>Download the right flavor of the
<a class="reference external" href="https://developer.arm.com/tools-and-software/open-source-software/developer-tools/gnu-toolchain/gnu-rm">ARM Embedded GNU Toolchain</a>
for your embedded processor’s CPU.</p>
<p>Unpack it into <code class="docutils literal notranslate"><span class="pre">/opt/gcc</span></code> and add the bin directory to your path. For instance:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> usermod -a -G users <span class="nv">$USER</span>
<span class="gp">$</span> <span class="c1"># get a login shell that knows we&#39;re in this group:</span>
<span class="gp">$</span> su - <span class="nv">$USER</span>
<span class="gp">$</span> sudo mkdir /opt/gcc
<span class="gp">$</span> sudo chgrp -R users /opt/gcc
<span class="gp">$</span> sudo chmod -R u+rw /opt/gcc
<span class="gp">$</span> <span class="nb">cd</span> /opt/gcc
<span class="gp">$</span> <span class="nv">HOST_PLATFORM</span><span class="o">=</span>x86_64-linux   <span class="c1"># use &quot;mac&quot; for macOS.</span>
<span class="gp">$</span> <span class="c1"># For windows there is a zip instead (gcc-arm-none-eabi-9-2019-q4-major-win32.zip)</span>
<span class="gp">$</span> curl -L -o gcc-arm-none-eabi-9-2019-q4-major-<span class="si">${</span><span class="nv">HOST_PLATFORM</span><span class="si">}</span>.tar.bz2 https://developer.arm.com/-/media/Files/downloads/gnu-rm/9-2019q4/gcc-arm-none-eabi-9-2019-q4-major-<span class="si">${</span><span class="nv">HOST_PLATFORM</span><span class="si">}</span>.tar.bz2
<span class="gp">$</span> tar xf gcc-arm-none-eabi-9-2019-q4-major-<span class="si">${</span><span class="nv">HOST_PLATFORM</span><span class="si">}</span>.tar.bz2
<span class="gp">$</span> <span class="c1"># add the toolchain bin/ dir to your path...</span>
<span class="gp">$</span> <span class="c1"># you can edit your shell&#39;s rc files if you don&#39;t use bash</span>
<span class="gp">$</span> <span class="nb">echo</span> <span class="s2">&quot;export PATH=/opt/gcc/gcc-arm-none-eabi-9-2019-q4-major/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span> &gt;&gt; ~/.bashrc
</pre></div>
</div>
<hr class="docutils" />
<p>Next up is <a class="reference internal" href="compiling.html#compiling"><span class="std std-ref">Compiling</span></a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, The Apache Software Foundation

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>